--- cfg80211/reg.c	2013-01-07 09:00:25.562729985 +0800
+++ cfg80211/reg.c_patch	2013-01-07 09:07:38.578714639 +0800
@@ -302,7 +302,7 @@
 	return 0;
 }
 
-#ifdef CONFIG_CFG80211_INTERNAL_REGDB
+#if 1
 struct reg_regdb_search_request {
 	char alpha2[2];
 	struct list_head list;
--- ath6kl/wmi.c	2013-01-04 18:06:11.000000000 +0800
+++ ath6kl/wmi.c_patch	2013-01-07 09:02:04.682727507 +0800
@@ -1202,6 +1202,8 @@
 	ev = (struct ath6kl_wmi_regdomain *) datap;
 	reg_code = le32_to_cpu(ev->reg_code);
 
+if ((reg_code & BIT(31)) == 0)
+{
 #ifdef CONFIG_QC_INTERNAL
 	ath6kl_info("%s: 0x%x WWR:%d\n",
 			reg_code & BIT(31) ? "Country Code" : "Reg Domain",
--- ath6kl/wmi.c	2013-01-04 18:06:11.000000000 +0800
+++ ath6kl/wmi.c_patch	2013-01-07 09:02:04.682727507 +0800
@@ -1229,7 +1231,7 @@
 #endif
 
 	ath6kl_reg_target_notify(ar, reg_code);
-
+}
 	return;
 }
 
 static int ath6kl_wmi_disconnect_event_rx(struct wmi *wmi, u8 *datap, int len,
--- regd_common.h	2013-01-07 09:23:20.242681387 +0800
+++ regd_common.h_patch	2013-01-07 09:29:28.186668323 +0800
@@ -27,6 +27,7 @@
 	FCC4_FCCA = 0x12,
 	FCC5_FCCA = 0x13,
 	FCC6_FCCA = 0x14,
+	FCC5_WORLD = 0x16,
 
 	FCC2_FCCA = 0x20,
 	FCC2_WORLD = 0x21,
@@ -35,6 +36,7 @@
 	FRANCE_RES = 0x31,
 	FCC3_FCCA = 0x3A,
 	FCC3_WORLD = 0x3B,
+	FCC3_ETSIC = 0x3C,
 
 	ETSI1_WORLD = 0x37,
 	ETSI3_ETSIA = 0x32,
@@ -44,6 +46,8 @@
 	ETSI4_ETSIC = 0x38,
 	ETSI5_WORLD = 0x39,
 	ETSI6_WORLD = 0x34,
+	ETSI8_WORLD = 0x3D,
+	ETSI9_WORLD = 0x3E,
 	ETSI_RESERVED = 0x33,
 
 	MKK1_MKKA = 0x40,
@@ -71,6 +75,7 @@
 	APL7_FCCA = 0x5C,
 	APL8_WORLD = 0x5D,
 	APL9_WORLD = 0x5E,
+	APL10_WORLD = 0x5F,
 
 	WOR0_WORLD = 0x60,
 	WOR1_WORLD = 0x61,
@@ -114,6 +119,7 @@
 
 	MKK14_MKKA1 = 0x92,
 	MKK15_MKKA1 = 0x93,
+	MKK5_MKKA = 0x99,
 
 	MKK10_FCCA = 0xD0,
 	MKK10_MKKA1 = 0xD1,
@@ -168,6 +174,7 @@
 	{FCC2_ETSIC, CTL_FCC, CTL_ETSI},
 	{FCC3_FCCA, CTL_FCC, CTL_FCC},
 	{FCC3_WORLD, CTL_FCC, CTL_ETSI},
+	{FCC3_ETSIC, CTL_FCC, CTL_ETSI},
 	{FCC4_FCCA, CTL_FCC, CTL_FCC},
 	{FCC5_FCCA, CTL_FCC, CTL_FCC},
 	{FCC6_FCCA, CTL_FCC, CTL_FCC},
@@ -289,190 +296,168 @@
 static struct country_code_to_enum_rd allCountries[] = {
 	{CTRY_DEBUG, NO_ENUMRD, "DB"},
 	{CTRY_DEFAULT, FCC1_FCCA, "CO"},
-	{CTRY_ALBANIA, NULL1_WORLD, "AL"},
-	{CTRY_ALGERIA, NULL1_WORLD, "DZ"},
-	{CTRY_ARGENTINA, FCC3_WORLD, "AR"},
-	{CTRY_ARMENIA, ETSI4_WORLD, "AM"},
-	{CTRY_ARUBA, ETSI1_WORLD, "AW"},
-	{CTRY_AUSTRALIA, FCC2_WORLD, "AU"},
-	{CTRY_AUSTRALIA2, FCC6_WORLD, "AU"},
+	{CTRY_ALBANIA, ETSI1_WORLD, "AL"},
+	{CTRY_ALGERIA, ETSI1_WORLD, "DZ"},
+	{CTRY_ARGENTINA, ETSI8_WORLD, "AR"},
+	{CTRY_ARMENIA, ETSI8_WORLD, "AM"},
+	{CTRY_AUSTRALIA, APL9_WORLD, "AU"},
 	{CTRY_AUSTRIA, ETSI1_WORLD, "AT"},
-	{CTRY_AZERBAIJAN, ETSI4_WORLD, "AZ"},
-	{CTRY_BAHRAIN, APL6_WORLD, "BH"},
-	{CTRY_BANGLADESH, NULL1_WORLD, "BD"},
-	{CTRY_BARBADOS, FCC2_WORLD, "BB"},
-	{CTRY_BELARUS, ETSI1_WORLD, "BY"},
+	{CTRY_AZERBAIJAN, FCC3_ETSIC, "AZ"},
+	{CTRY_BAHRAIN, FCC1_WORLD, "BH"},
+	{CTRY_BANGLADESH, ETSI6_WORLD, "BD"},
+	{CTRY_BELARUS, FCC5_WORLD, "BY"},
 	{CTRY_BELGIUM, ETSI1_WORLD, "BE"},
-	{CTRY_BELGIUM2, ETSI4_WORLD, "BL"},
-	{CTRY_BELIZE, APL1_ETSIC, "BZ"},
-	{CTRY_BOLIVIA, APL1_ETSIC, "BO"},
+	{CTRY_BOLIVIA, ETSI4_WORLD, "BO"},
 	{CTRY_BOSNIA_HERZ, ETSI1_WORLD, "BA"},
-	{CTRY_BRAZIL, FCC3_WORLD, "BR"},
-	{CTRY_BRUNEI_DARUSSALAM, APL1_WORLD, "BN"},
-	{CTRY_BULGARIA, ETSI6_WORLD, "BG"},
+	{CTRY_BRAZIL, APL10_WORLD, "BR"},
+	{CTRY_BULGARIA, ETSI1_WORLD, "BG"},
 	{CTRY_CAMBODIA, ETSI1_WORLD, "KH"},
-	{CTRY_CANADA, FCC3_FCCA, "CA"},
-	{CTRY_CANADA2, FCC6_FCCA, "CA"},
-	{CTRY_CHILE, APL6_WORLD, "CL"},
-	{CTRY_CHINA, APL1_WORLD, "CN"},
-	{CTRY_COLOMBIA, FCC1_FCCA, "CO"},
-	{CTRY_COSTA_RICA, FCC1_WORLD, "CR"},
+	{CTRY_CANADA, APL6_WORLD, "CA"},
+	{CTRY_CHILE, FCC1_WORLD, "CL"},
+	{CTRY_CHINA, APL5_WORLD, "CN"},
+	{CTRY_COLOMBIA, APL6_WORLD, "CO"},
+	{CTRY_COSTA_RICA, APL10_WORLD, "CR"},
 	{CTRY_CROATIA, ETSI1_WORLD, "HR"},
 	{CTRY_CYPRUS, ETSI1_WORLD, "CY"},
-	{CTRY_CZECH, ETSI3_WORLD, "CZ"},
+	{CTRY_CZECH, ETSI1_WORLD, "CZ"},
 	{CTRY_DENMARK, ETSI1_WORLD, "DK"},
-	{CTRY_DOMINICAN_REPUBLIC, FCC1_FCCA, "DO"},
-	{CTRY_ECUADOR, FCC1_WORLD, "EC"},
+	{CTRY_DOMINICAN_REPUBLIC, APL10_WORLD, "DO"},
+	{CTRY_ECUADOR, FCC3_ETSIC, "EC"},
 	{CTRY_EGYPT, ETSI3_WORLD, "EG"},
 	{CTRY_EL_SALVADOR, FCC1_WORLD, "SV"},
 	{CTRY_ESTONIA, ETSI1_WORLD, "EE"},
 	{CTRY_FINLAND, ETSI1_WORLD, "FI"},
 	{CTRY_FRANCE, ETSI1_WORLD, "FR"},
-	{CTRY_GEORGIA, ETSI4_WORLD, "GE"},
+	{CTRY_GEORGIA, ETSI1_WORLD, "GE"},
 	{CTRY_GERMANY, ETSI1_WORLD, "DE"},
 	{CTRY_GREECE, ETSI1_WORLD, "GR"},
 	{CTRY_GREENLAND, ETSI1_WORLD, "GL"},
 	{CTRY_GRENADA, FCC3_FCCA, "GD"},
 	{CTRY_GUAM, FCC1_FCCA, "GU"},
-	{CTRY_GUATEMALA, FCC1_FCCA, "GT"},
+	{CTRY_GUATEMALA, APL6_WORLD, "GT"},
 	{CTRY_HAITI, ETSI1_WORLD, "HT"},
-	{CTRY_HONDURAS, NULL1_WORLD, "HN"},
-	{CTRY_HONG_KONG, FCC3_WORLD, "HK"},
+	{CTRY_HONDURAS, APL5_WORLD, "HN"},
+	{CTRY_HONG_KONG, APL10_WORLD, "HK"},
 	{CTRY_HUNGARY, ETSI1_WORLD, "HU"},
 	{CTRY_ICELAND, ETSI1_WORLD, "IS"},
-	{CTRY_INDIA, APL6_WORLD, "IN"},
-	{CTRY_INDONESIA, NULL1_WORLD, "ID"},
-	{CTRY_IRAN, APL1_WORLD, "IR"},
+	{CTRY_INDIA, FCC1_WORLD, "IN"},
+	{CTRY_INDONESIA, APL2_WORLD, "ID"},
+	{CTRY_IRAN, NULL1_ETSIB, "IR"},
 	{CTRY_IRELAND, ETSI1_WORLD, "IE"},
-	{CTRY_ISRAEL, NULL1_WORLD, "IL"},
+	{CTRY_ISRAEL, ETSI3_WORLD, "IL"},
 	{CTRY_ITALY, ETSI1_WORLD, "IT"},
-	{CTRY_JAMAICA, FCC3_WORLD, "JM"},
+	{CTRY_JAMAICA, APL5_WORLD, "JM"},
 
-	{CTRY_JAPAN, MKK1_MKKA, "JP"},
-	{CTRY_JAPAN1, MKK1_MKKB, "JP"},
-	{CTRY_JAPAN2, MKK1_FCCA, "JP"},
-	{CTRY_JAPAN3, MKK2_MKKA, "JP"},
-	{CTRY_JAPAN4, MKK1_MKKA1, "JP"},
-	{CTRY_JAPAN5, MKK1_MKKA2, "JP"},
-	{CTRY_JAPAN6, MKK1_MKKC, "JP"},
-	{CTRY_JAPAN7, MKK3_MKKB, "JP"},
-	{CTRY_JAPAN8, MKK3_MKKA2, "JP"},
-	{CTRY_JAPAN9, MKK3_MKKC, "JP"},
-	{CTRY_JAPAN10, MKK4_MKKB, "JP"},
-	{CTRY_JAPAN11, MKK4_MKKA2, "JP"},
-	{CTRY_JAPAN12, MKK4_MKKC, "JP"},
-	{CTRY_JAPAN13, MKK5_MKKB, "JP"},
-	{CTRY_JAPAN14, MKK5_MKKA2, "JP"},
-	{CTRY_JAPAN15, MKK5_MKKC, "JP"},
-	{CTRY_JAPAN16, MKK6_MKKB, "JP"},
-	{CTRY_JAPAN17, MKK6_MKKA2, "JP"},
-	{CTRY_JAPAN18, MKK6_MKKC, "JP"},
-	{CTRY_JAPAN19, MKK7_MKKB, "JP"},
-	{CTRY_JAPAN20, MKK7_MKKA2, "JP"},
-	{CTRY_JAPAN21, MKK7_MKKC, "JP"},
-	{CTRY_JAPAN22, MKK8_MKKB, "JP"},
-	{CTRY_JAPAN23, MKK8_MKKA2, "JP"},
-	{CTRY_JAPAN24, MKK8_MKKC, "JP"},
-	{CTRY_JAPAN25, MKK3_MKKA, "JP"},
-	{CTRY_JAPAN26, MKK3_MKKA1, "JP"},
-	{CTRY_JAPAN27, MKK3_FCCA, "JP"},
-	{CTRY_JAPAN28, MKK4_MKKA1, "JP"},
-	{CTRY_JAPAN29, MKK4_FCCA, "JP"},
-	{CTRY_JAPAN30, MKK6_MKKA1, "JP"},
-	{CTRY_JAPAN31, MKK6_FCCA, "JP"},
-	{CTRY_JAPAN32, MKK7_MKKA1, "JP"},
-	{CTRY_JAPAN33, MKK7_FCCA, "JP"},
-	{CTRY_JAPAN34, MKK9_MKKA, "JP"},
-	{CTRY_JAPAN35, MKK10_MKKA, "JP"},
-	{CTRY_JAPAN36, MKK4_MKKA, "JP"},
-	{CTRY_JAPAN37, MKK9_FCCA, "JP"},
-	{CTRY_JAPAN38, MKK9_MKKA1, "JP"},
-	{CTRY_JAPAN39, MKK9_MKKC, "JP"},
-	{CTRY_JAPAN40, MKK9_MKKA2, "JP"},
-	{CTRY_JAPAN41, MKK10_FCCA, "JP"},
-	{CTRY_JAPAN42, MKK10_MKKA1, "JP"},
-	{CTRY_JAPAN43, MKK10_MKKC, "JP"},
-	{CTRY_JAPAN44, MKK10_MKKA2, "JP"},
-	{CTRY_JAPAN45, MKK11_MKKA, "JP"},
-	{CTRY_JAPAN46, MKK11_FCCA, "JP"},
-	{CTRY_JAPAN47, MKK11_MKKA1, "JP"},
-	{CTRY_JAPAN48, MKK11_MKKC, "JP"},
-	{CTRY_JAPAN49, MKK11_MKKA2, "JP"},
-	{CTRY_JAPAN50, MKK12_MKKA, "JP"},
-	{CTRY_JAPAN51, MKK12_FCCA, "JP"},
-	{CTRY_JAPAN52, MKK12_MKKA1, "JP"},
-	{CTRY_JAPAN53, MKK12_MKKC, "JP"},
-	{CTRY_JAPAN54, MKK12_MKKA2, "JP"},
-	{CTRY_JAPAN57, MKK13_MKKB, "JP"},
-	{CTRY_JAPAN58, MKK14_MKKA1, "JP"},
-	{CTRY_JAPAN59, MKK15_MKKA1, "JP"},
-
-	{CTRY_JORDAN, ETSI2_WORLD, "JO"},
-	{CTRY_KAZAKHSTAN, NULL1_WORLD, "KZ"},
+	{CTRY_JAPAN, MKK5_MKKA, "JP"},
+	{CTRY_JORDAN, APL4_WORLD, "JO"},
+	{CTRY_KAZAKHSTAN, FCC5_WORLD, "KZ"},
 	{CTRY_KOREA_NORTH, APL9_WORLD, "KP"},
-	{CTRY_KOREA_ROC, APL9_WORLD, "KR"},
+	{CTRY_KOREA_ROC, APL1_WORLD, "KR"},
 	{CTRY_KOREA_ROC2, APL2_WORLD, "K2"},
 	{CTRY_KOREA_ROC3, APL9_WORLD, "K3"},
 	{CTRY_KUWAIT, ETSI3_WORLD, "KW"},
 	{CTRY_LATVIA, ETSI1_WORLD, "LV"},
-	{CTRY_LEBANON, NULL1_WORLD, "LB"},
+	{CTRY_LEBANON, APL3_WORLD, "LB"},
 	{CTRY_LIECHTENSTEIN, ETSI1_WORLD, "LI"},
 	{CTRY_LITHUANIA, ETSI1_WORLD, "LT"},
 	{CTRY_LUXEMBOURG, ETSI1_WORLD, "LU"},
 	{CTRY_MACAU, FCC2_WORLD, "MO"},
-	{CTRY_MACEDONIA, NULL1_WORLD, "MK"},
-	{CTRY_MALAYSIA, APL8_WORLD, "MY"},
+	{CTRY_MACEDONIA, ETSI1_WORLD, "MK"},
+	{CTRY_MALAYSIA, FCC1_WORLD, "MY"},
 	{CTRY_MALTA, ETSI1_WORLD, "MT"},
-	{CTRY_MEXICO, FCC1_FCCA, "MX"},
+	{CTRY_MEXICO, FCC3_ETSIC, "MX"},
 	{CTRY_MONACO, ETSI4_WORLD, "MC"},
-	{CTRY_MOROCCO, APL4_WORLD, "MA"},
-	{CTRY_NEPAL, APL1_WORLD, "NP"},
+	{CTRY_MOROCCO, ETSI3_WORLD, "MA"},
+	{CTRY_NEPAL, FCC1_WORLD, "NP"},
 	{CTRY_NETHERLANDS, ETSI1_WORLD, "NL"},
 	{CTRY_NETHERLANDS_ANTILLES, ETSI1_WORLD, "AN"},
-	{CTRY_NEW_ZEALAND, FCC2_ETSIC, "NZ"},
+	{CTRY_NEW_ZEALAND, APL9_WORLD, "NZ"},
 	{CTRY_NORWAY, ETSI1_WORLD, "NO"},
-	{CTRY_OMAN, FCC3_WORLD, "OM"},
-	{CTRY_PAKISTAN, NULL1_WORLD, "PK"},
-	{CTRY_PANAMA, FCC1_FCCA, "PA"},
-	{CTRY_PAPUA_NEW_GUINEA, FCC1_WORLD, "PG"},
-	{CTRY_PERU, APL1_WORLD, "PE"},
-	{CTRY_PHILIPPINES, APL1_WORLD, "PH"},
+	{CTRY_OMAN, ETSI1_WORLD, "OM"},
+	{CTRY_PAKISTAN, NULL1_ETSIB, "PK"},
+	{CTRY_PANAMA, FCC3_ETSIC, "PA"},
+	{CTRY_PAPUA_NEW_GUINEA, ETSI1_WORLD, "PG"},
+	{CTRY_PERU, APL10_WORLD, "PE"},
+	{CTRY_PHILIPPINES, APL10_WORLD, "PH"},
 	{CTRY_POLAND, ETSI1_WORLD, "PL"},
 	{CTRY_PORTUGAL, ETSI1_WORLD, "PT"},
-	{CTRY_PUERTO_RICO, FCC1_FCCA, "PR"},
-	{CTRY_QATAR, APL1_WORLD, "QA"},
-	{CTRY_ROMANIA, NULL1_WORLD, "RO"},
-	{CTRY_RUSSIA, NULL1_WORLD, "RU"},
-	{CTRY_SAUDI_ARABIA, NULL1_WORLD, "SA"},
+	{CTRY_PUERTO_RICO, APL6_WORLD, "PR"},
+	{CTRY_QATAR, APL5_WORLD, "QA"},
+	{CTRY_ROMANIA, ETSI1_WORLD, "RO"},
+	{CTRY_RUSSIA, FCC5_WORLD, "RU"},
+	{CTRY_SAUDI_ARABIA, ETSI8_WORLD, "SA"},
 	{CTRY_SERBIA_MONTENEGRO, ETSI1_WORLD, "CS"},
-	{CTRY_SINGAPORE, APL6_WORLD, "SG"},
+	{CTRY_SINGAPORE, FCC1_WORLD, "SG"},
 	{CTRY_SLOVAKIA, ETSI1_WORLD, "SK"},
 	{CTRY_SLOVENIA, ETSI1_WORLD, "SI"},
-	{CTRY_SOUTH_AFRICA, FCC3_WORLD, "ZA"},
+	{CTRY_SOUTH_AFRICA, ETSI1_WORLD, "ZA"},
 	{CTRY_SPAIN, ETSI1_WORLD, "ES"},
-	{CTRY_SRI_LANKA, FCC3_WORLD, "LK"},
+	{CTRY_SRI_LANKA, FCC6_WORLD, "LK"},
 	{CTRY_SWEDEN, ETSI1_WORLD, "SE"},
 	{CTRY_SWITZERLAND, ETSI1_WORLD, "CH"},
-	{CTRY_SYRIA, NULL1_WORLD, "SY"},
-	{CTRY_TAIWAN, APL3_FCCA, "TW"},
-	{CTRY_THAILAND, FCC3_WORLD, "TH"},
+	{CTRY_SYRIA, FCC6_FCCA, "SY"},
+	{CTRY_TAIWAN, MKK11_FCCA, "TW"},
+	{CTRY_THAILAND, APL10_WORLD, "TH"},
 	{CTRY_TRINIDAD_Y_TOBAGO, FCC3_WORLD, "TT"},
 	{CTRY_TUNISIA, ETSI3_WORLD, "TN"},
-	{CTRY_TURKEY, ETSI3_WORLD, "TR"},
-	{CTRY_UKRAINE, NULL1_WORLD, "UA"},
-	{CTRY_UAE, NULL1_WORLD, "AE"},
+	{CTRY_TURKEY, ETSI1_WORLD, "TR"},
+	{CTRY_UKRAINE, ETSI9_WORLD, "UA"},
+	{CTRY_UAE, APL10_WORLD, "AE"},
 	{CTRY_UNITED_KINGDOM, ETSI1_WORLD, "GB"},
-	{CTRY_UNITED_STATES, FCC3_FCCA, "US"},
+	{CTRY_UNITED_STATES, APL6_WORLD, "US"},
 	/* This "PS" is for US public safety actually... to support this we
 	 * would need to assign new special alpha2 to CRDA db as with the world
 	 * regdomain and use another alpha2 */
 	{CTRY_UNITED_STATES_FCC49, FCC4_FCCA, "PS"},
-	{CTRY_URUGUAY, FCC3_WORLD, "UY"},
-	{CTRY_UZBEKISTAN, FCC3_FCCA, "UZ"},
-	{CTRY_VENEZUELA, APL2_ETSIC, "VE"},
-	{CTRY_VIET_NAM, NULL1_WORLD, "VN"},
-	{CTRY_YEMEN, NULL1_WORLD, "YE"},
+	{CTRY_URUGUAY, FCC3_ETSIC, "UY"},
+	{CTRY_UZBEKISTAN, ETSI1_WORLD, "UZ"},
+	{CTRY_VENEZUELA, FCC1_WORLD, "VE"},
+	{CTRY_VIET_NAM, APL10_WORLD, "VN"},
+	{CTRY_YEMEN, ETSI1_WORLD, "YE"},
 	{CTRY_ZIMBABWE, NULL1_WORLD, "ZW"},
+	{CTRY_MOLDOVA, ETSI1_WORLD, "MD"},
+	{CTRY_TAJIKISTAN, FCC5_WORLD, "TJ"},
+	{CTRY_TURKMENISTAN, FCC5_WORLD, "TM"},
+	{CTRY_KYRGYZSTAN, APL7_FCCA, "KG"},
+	{CTRY_MONGOLIA, FCC3_ETSIC, "MN"},
+	{CTRY_PARAGUAY, APL10_WORLD, "PY"},
+	{CTRY_NICARAGUA, FCC3_ETSIC, "NI"},
+	{CTRY_DOMINICA, FCC3_ETSIC, "DM"},
+	{CTRY_CUBA, APL2_WORLD, "CU"},
+	{CTRY_MYANMAR, ETSI1_WORLD, "MM"},
+	{CTRY_LIBYA, NULL1_ETSIB, "LY"},
+	{CTRY_IRAQ, APL10_WORLD, "IQ"},
+	{CTRY_PALESTINIAN, ETSI3_WORLD, "PS"},
+	{CTRY_AFGHANISTAN, ETSI1_WORLD, "AF"},
+	{CTRY_NIGERIA, APL8_WORLD, "NG"},
+	{CTRY_CAMEROON, ETSI1_WORLD, "CM"},
+	{CTRY_MALI, APL10_WORLD, "ML"},
+	{CTRY_TOGO, ETSI1_WORLD, "TG"},
+	{CTRY_BENIN, ETSI1_WORLD, "BJ"},
+	{CTRY_GUINEA, ETSI1_WORLD, "GN"},
+	{CTRY_GUINEABISSAU, ETSI1_WORLD, "GW"},
+	{CTRY_ANGOLA, ETSI3_WORLD, "AO"},
+	{CTRY_GAMBIA, ETSI1_WORLD, "GM"},
+	{CTRY_SENEGAL, ETSI1_WORLD, "SN"},
+	{CTRY_MAURITANIA, ETSI1_WORLD, "MR"},
+	{CTRY_BURKINA, APL5_WORLD, "BF"},
+	{CTRY_SIERRA, ETSI1_WORLD, "SL"},
+	{CTRY_GHANA, ETSI1_WORLD, "GH"},
+	{CTRY_LIBERIA, APL10_WORLD, "LR"},
+	{CTRY_SUDAN, ETSI1_WORLD, "SD"},
+	{CTRY_CONGO, ETSI1_WORLD, "CD"},
+	{CTRY_CONGOREP, ETSI1_WORLD, "CG"},
+	{CTRY_GABON, ETSI1_WORLD, "GA"},
+	{CTRY_ETHIOPIA, ETSI1_WORLD, "ET"},
+	{CTRY_SOMALIA, NULL1_ETSIB, "SO"},
+	{CTRY_DJIBOUTI, ETSI1_WORLD, "DJ"},
+	{CTRY_BURUNDI, ETSI1_WORLD, "BI"},
+	{CTRY_ERITREA, ETSI1_WORLD, "ER"},
+	{CTRY_SEYCHELLES, NULL1_ETSIB, "SC"},
+	{CTRY_RWANDA, ETSI1_WORLD, "RW"},
+	{CTRY_KENYA, ETSI2_WORLD, "KE"},
+	{CTRY_TANZANIA, ETSI5_WORLD, "TZ"},
+	{CTRY_UGANDA, ETSI1_WORLD, "UG"},
 };
 
 #endif
--- cfg80211/Kbuild	2013-01-04 18:18:24.000000000 +0800
+++ cfg80211/Kbuild_patch	2013-01-07 09:51:32.890615507 +0800
@@ -6,11 +6,20 @@
 cfg80211-y += mlme.o ibss.o sme.o chan.o ethtool.o mesh.o
 cfg80211-$(CONFIG_CFG80211_DEBUGFS) += debugfs.o
 cfg80211-$(CONFIG_CFG80211_WEXT) += wext-compat.o wext-sme.o
+ifdef BUILD_REG_SS_PATCH
+cfg80211-y += regdb.o
+else
 cfg80211-$(CONFIG_CFG80211_INTERNAL_REGDB) += regdb.o
+endif
 
 ccflags-y += -D__CHECK_ENDIAN__
 
+ifdef BUILD_REG_SS_PATCH
+$(obj)/regdb.c: $(src)/ss_db.txt $(src)/genregdb.awk
+	@$(AWK) -f $(src)/genregdb.awk < $< > $@
+else
 $(obj)/regdb.c: $(src)/db.txt $(src)/genregdb.awk
 	@$(AWK) -f $(src)/genregdb.awk < $< > $@
+endif
 
 clean-files := regdb.c
--- regd.h	2013-01-07 11:41:10.646387867 +0800
+++ regd.h_patch	2013-01-07 11:35:31.482401208 +0800
@@ -246,7 +246,45 @@
 	CTRY_JAPAN59 = 4059,
 	CTRY_AUSTRALIA2 = 5000,
 	CTRY_CANADA2 = 5001,
-	CTRY_BELGIUM2 = 5002
+	CTRY_BELGIUM2 = 5002,
+        CTRY_MOLDOVA = 498,
+	CTRY_TAJIKISTAN = 762,
+	CTRY_TURKMENISTAN = 795,
+	CTRY_KYRGYZSTAN = 417,
+	CTRY_MONGOLIA = 496,
+	CTRY_DOMINICA =212,
+	CTRY_CUBA = 192,
+	CTRY_MYANMAR = 104,
+	CTRY_PALESTINIAN = 275,
+	CTRY_AFGHANISTAN = 4,
+	CTRY_NIGERIA = 566,
+	CTRY_CAMEROON = 120,
+	CTRY_MALI = 466,
+	CTRY_TOGO = 768,
+	CTRY_BENIN = 204,
+	CTRY_GUINEA = 324,
+	CTRY_GUINEABISSAU = 624,
+	CTRY_ANGOLA = 24,
+	CTRY_GAMBIA = 270,
+	CTRY_SENEGAL = 686,
+	CTRY_MAURITANIA = 478,
+	CTRY_BURKINA = 854,
+	CTRY_SIERRA = 694,
+	CTRY_GHANA = 288,
+	CTRY_LIBERIA = 430,
+	CTRY_SUDAN = 736,
+	CTRY_CONGO = 180,
+	CTRY_CONGOREP = 178,
+	CTRY_GABON = 266,
+	CTRY_ETHIOPIA = 231,
+	CTRY_SOMALIA = 706,
+	CTRY_DJIBOUTI = 262,
+	CTRY_BURUNDI = 108,
+	CTRY_ERITREA = 232,
+	CTRY_SEYCHELLES = 690,
+	CTRY_RWANDA = 646,
+	CTRY_TANZANIA = 834,
+	CTRY_UGANDA = 800
 };
 
 bool ath_is_world_regd(struct ath_regulatory *reg);
--- cfg80211/sme.c	2013-01-08 18:56:59.000000000 +0800
+++ cfg80211/sme.c_patch	2013-01-09 18:55:13.493207494 +0800
@@ -500,6 +500,7 @@
 
 	if (!country_ie)
 		return;
+#if 0
 
 	/*
 	 * ieee80211_bss_get_ie() ensures we can access:
@@ -510,6 +511,7 @@
 			    bss->channel->band,
 			    country_ie + 2,
 			    country_ie[1]);
+#endif
 }
 
 void cfg80211_connect_result(struct net_device *dev, const u8 *bssid,
--- cfg80211.orig/sme.c	2013-01-14 15:03:54.000000000 +0800
+++ cfg80211/sme.c	2013-01-14 15:04:29.000000000 +0800
@@ -746,7 +746,7 @@
 	wdev->wext.connect.ssid_len = 0;
 #endif
 
-	schedule_work(&cfg80211_disconnect_work);
+	//schedule_work(&cfg80211_disconnect_work);
 }
 
 void cfg80211_disconnected(struct net_device *dev, u16 reason,
